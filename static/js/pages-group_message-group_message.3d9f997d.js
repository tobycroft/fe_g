(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-group_message-group_message"],{"01e1":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.single-message-container[data-v-59cfce19]{min-height:100vh;background:#f7f7f7}.single-message-container .navbar-right uni-image[data-v-59cfce19]{width:%?38?%;height:auto}.single-message-container .message-item[data-v-59cfce19]{padding:%?0?% %?32?% %?24?% %?24?%;-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-transform-origin:center;transform-origin:center}.single-message-container .message-item-notification[data-v-59cfce19]{text-align:center;font-size:%?28?%;color:#909193;padding:%?0?% %?20?%}.single-message-container .message-item .message-item-time[data-v-59cfce19]{margin-bottom:%?24?%;font-size:%?24?%;color:#909193;text-align:center}.single-message-container .message-item-left-nick[data-v-59cfce19]{font-size:%?24?%;color:#909193;margin-bottom:%?10?%}.single-message-container .message-item-left-avatar[data-v-59cfce19]{margin-right:%?12?%}.single-message-container .message-item-left-text[data-v-59cfce19]{background:#fff;border-radius:0 %?16?% %?16?% %?16?%;max-width:%?462?%;padding:%?16?% %?24?%;font-weight:%?32?%;color:#303133}.single-message-container .message-item-left-image uni-image[data-v-59cfce19]{max-width:%?510?%;height:auto;border-radius:%?16?%}.single-message-container .message-item-left-good[data-v-59cfce19]{background:#fff;border-radius:0 %?16?% %?16?% %?16?%;max-width:%?462?%;padding:%?24?%}.single-message-container .message-item-left-good .good-cover[data-v-59cfce19]{margin-right:%?12?%}.single-message-container .message-item-left-good .good-cover uni-image[data-v-59cfce19]{width:%?103?%;height:%?103?%;border-radius:%?16?%}.single-message-container .message-item-left-good .good-title[data-v-59cfce19]{font-size:%?32?%;color:#303133;font-weight:700;width:%?347?%}.single-message-container .message-item-left-good .good-price[data-v-59cfce19]{margin-top:%?18?%;font-size:%?36?%;color:#f56c6c}.single-message-container .message-item-right-avatar[data-v-59cfce19]{margin-left:%?12?%}.single-message-container .message-item-right-text[data-v-59cfce19]{background:#fff;border-radius:%?16?% %?0?% %?16?% %?16?%;max-width:%?462?%;padding:%?16?% %?24?%;font-weight:%?32?%;color:#303133;background:#95eb6c}.single-message-container .message-item-right-image uni-image[data-v-59cfce19]{max-width:%?510?%;height:auto;border-radius:%?16?%}.single-message-container .message-item-right-good[data-v-59cfce19]{background:#fff;border-radius:%?16?% %?0?% %?16?% %?16?%;max-width:%?462?%;padding:%?24?%}.single-message-container .message-item-right-good .good-cover[data-v-59cfce19]{margin-right:%?12?%}.single-message-container .message-item-right-good .good-cover uni-image[data-v-59cfce19]{width:%?103?%;height:%?103?%;border-radius:%?16?%}.single-message-container .message-item-right-good .good-title[data-v-59cfce19]{font-size:%?32?%;color:#303133;font-weight:700;width:%?347?%}.single-message-container .message-item-right-good .good-price[data-v-59cfce19]{margin-top:%?18?%;font-size:%?36?%;color:#f56c6c}.single-message-container .single-message-footer[data-v-59cfce19]{height:%?100?%;padding:%?0?% %?32?%;width:%?686?%;flex:1}.single-message-container .single-message-footer uni-input[data-v-59cfce19]{height:%?80?%;background:#f7f7f7;border-radius:%?40?%;margin-right:%?24?%;font-size:%?30?%;color:#303133;padding:%?0?% %?32?%}.single-message-container .single-message-footer uni-image[data-v-59cfce19]{width:%?50?%;height:%?50?%}',""]),e.exports=t},"0d1c":function(e,t,n){"use strict";n.r(t);var i=n("ab79"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"10e5":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var i={props:{value:{type:[String,Number,null],default:uni.$u.props.tabbar.value},safeAreaInsetBottom:{type:Boolean,default:uni.$u.props.tabbar.safeAreaInsetBottom},border:{type:Boolean,default:uni.$u.props.tabbar.border},zIndex:{type:[String,Number],default:uni.$u.props.tabbar.zIndex},activeColor:{type:String,default:uni.$u.props.tabbar.activeColor},inactiveColor:{type:String,default:uni.$u.props.tabbar.inactiveColor},fixed:{type:Boolean,default:uni.$u.props.tabbar.fixed},placeholder:{type:Boolean,default:uni.$u.props.tabbar.placeholder}}};t.default=i},"12ef":function(e,t,n){"use strict";n.r(t);var i=n("c0de"),a=n("18e6");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("deca");var s=n("f0c5"),o=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"3bfc99c2",null,!1,i["a"],void 0);t["default"]=o.exports},"18e6":function(e,t,n){"use strict";n.r(t);var i=n("eaed"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},"1bdc":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={name:"image-uploader",props:{},data:function(){return{show:!1}},methods:{pop:function(){this.show=!0},open:function(){},close:function(){this.show=!1}}}},"20eb":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-view[data-v-3bfc99c2], uni-scroll-view[data-v-3bfc99c2], uni-swiper-item[data-v-3bfc99c2]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-list[data-v-3bfc99c2]{display:flex;flex-direction:column}',""]),e.exports=t},"2afe":function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-view[data-v-7a36d2a4], uni-scroll-view[data-v-7a36d2a4], uni-swiper-item[data-v-7a36d2a4]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-tabbar[data-v-7a36d2a4]{display:flex;flex-direction:column;flex:1;justify-content:center}.u-tabbar__content[data-v-7a36d2a4]{display:flex;flex-direction:column;background-color:#fff}.u-tabbar__content__item-wrapper[data-v-7a36d2a4]{height:50px;display:flex;flex-direction:row}.u-tabbar--fixed[data-v-7a36d2a4]{position:fixed;bottom:0;left:0;right:0}',""]),e.exports=t},"31bd":function(e,t,n){"use strict";n.r(t);var i=n("326c"),a=n("9f63");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("6587");var s=n("f0c5"),o=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"5f9c0ae6",null,!1,i["a"],void 0);t["default"]=o.exports},"326c":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var i={uPopup:n("19e8").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{},[n("u-popup",{attrs:{show:e.show,round:32,closeOnClickOverlay:!0,mode:"bottom"},on:{close:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"action-sheet-item u-border-bottom"},[e._v("拍照")]),n("v-uni-view",{staticClass:"action-sheet-item u-border-bottom"},[e._v("从相册选择")]),n("v-uni-view",{staticClass:"cancel-btn",attrs:{"hover-stay-time":150,"hover-class":"cancel-btn-hover"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.close.apply(void 0,arguments)}}},[e._v("取消")])],1)],1)},r=[]},3360:function(e,t,n){"use strict";n.r(t);var i=n("580c"),a=n("0d1c");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("e4ac");var s=n("f0c5"),o=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"7a36d2a4",null,!1,i["a"],void 0);t["default"]=o.exports},5198:function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("7db0"),n("d3b7"),n("159b"),n("14d9"),n("99af"),n("26e9"),n("a9e3"),n("e9c4");var i=n("4feb"),a=getApp().globalData.nim,r={data:function(){return{orderId:"",chatGroupId:"",serviceProductId:0,content:"",messages:[],teamInfo:{},teamMembers:[],teamUsers:[],toUserId:""}},computed:{getNotificationContent:function(){return function(e){if("addTeamMembers"==e.attach.type){var t=e.attach.users,n=e.attach.accounts,i=t.find((function(t){return t.account==e.from})).nick,a=[];return n.forEach((function(e){a.push(t.find((function(t){return t.account==e})).nick)})),'"'.concat(i,'"邀请"').concat(a.join('"、"'),'"加入了群聊')}return"未定义群通知"}},getAvatar:function(){var e=this;return function(t){var n=e.teamUsers.find((function(e){return e.account==t.from}));return n?n.avatar:""}},selfInfo:function(){return this.$store.state.im.userInfo},isImage:function(){return function(e){var t=JSON.parse(e.content);return"img"==t.type&&t.data}},isService:function(){return function(e){var t=JSON.parse(e.content);return"service"==t.type&&t.data}},offlineMessages:function(){return this.$store.state.im.offlineMessages},showTime:function(){var e=this;return function(t){if(t==e.messages.length-1)return!0;var n=Math.abs(e.messages[t+1].time-e.messages[t].time);return n>3e5}},currSession:function(){var e=this,t=this.$store.state.im.sessions,n=t.find((function(t){return t.to==e.chatGroupId}));return n},scrollViewStyle:function(){return"transform: rotate(180deg);\n\t\t\ttransform-origin: center;"}},onBackPress:function(){a&&a.resetCurrSession()},onLoad:function(e){var t=e.orderId;t&&this.initGroupInfo();var n=e.chatGroupId;n&&(this.chatGroupId=n,this.getTeamInfo()),console.log(this.currSession)},methods:{setCurrSession:function(){this.currSession&&a&&(a.setCurrSession(this.currSession.id),a.resetSessionUnread(this.currSession.id))},initGroupInfo:function(){var e=this;(0,i.getServiceOrderChatGroupId)({orderUuid:"2c994d4d83d5ecb30183d60a28ee0000"}).then((function(t){e.chatGroupId=t.chatGroupId,e.getTeamInfo()}))},getTeamInfo:function(){var e=this;a&&a.getTeam({teamId:this.chatGroupId,done:function(t,n){t?uni.$u.toast("获取群组信息失败！"):(e.teamInfo=n,e.getTeamMembers())}})},getTeamMembers:function(){var e=this;a&&a.getTeamMembers({teamId:this.chatGroupId,done:function(t,n){t?uni.$u.toast("获取群成员失败！"):(e.teamMembers=n.members,e.teamMembers.forEach((function(t){a.getUser({account:t.account,sync:!0,done:function(t,n){t||(e.teamUsers.push(n),e.setCurrSession(),e.markMsgRead())}})})),e.getHistoryMsgs())}})},previewImage:function(e){uni.previewImage({urls:[e]})},onReceiveMsg:function(e){e.target==this.chatGroupId&&(this.messages=a&&a.mergeMsgs(this.messages,[e]).reverse(),a.resetSessionUnread(this.currSession.id))},markMsgRead:function(){var e=this.offlineMessages["p2p-"+this.toUserId];e&&e.length&&a&&a.markMsgRead(e)},getToUserBymerchantId:function(e){var t=this;getYunxinUserid({merchantUuid:this.merchantId}).then((function(e){t.toUserId=e.userid,t.markMsgRead(),t.getHistoryMsgs()}))},getHistoryMsgs:function(){var e=this;a&&a.getHistoryMsgs({scene:"team",to:this.chatGroupId,endTime:this.messages.length?this.messages[this.messages.length-1].time:Number(new Date),lastMsgId:this.messages.length?this.messages[this.messages.length-1].idServer:"",limit:20,done:function(t,n){console.log("获取云端历史记录"+(t?"失败":"成功"),t,n),console.log(n.msgs),t||n.msgs&&n.msgs.length&&(e.messages=a.mergeMsgs(e.messages,n.msgs).reverse())}})},sendMessage:function(){var e=this;a.sendText({scene:"team",to:this.chatGroupId,text:this.content,done:function(t,n){t||(e.messages=a&&a.mergeMsgs(e.messages,[n]).reverse())}}),this.content=""},sendImgMessage:function(e){var t=this,n={type:"img",data:{url:e[0]}};a.sendCustomMsg({scene:"team",to:this.chatGroupId,content:JSON.stringify(n),done:function(e,n){e||(t.messages=a&&a.mergeMsgs(t.messages,[n]).reverse())}})},sendServiceMsg:function(e){var t=this,n={type:"service",data:{id:e.id,name:e.name,cover:e.serviceProductTemplateEntity.picsArr[0],price:e.productPrice}};a.sendCustomMsg({scene:"p2p",to:this.toUserId,content:JSON.stringify(n),done:function(e,n){e||(t.messages=a&&a.mergeMsgs(t.messages,[n]).reverse())}})}}};t.default=r},"580c":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var i={uSafeBottom:n("12f3").default},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-tabbar"},[n("v-uni-view",{ref:"u-tabbar__content",staticClass:"u-tabbar__content",class:[e.border&&"u-border-top",e.fixed&&"u-tabbar--fixed"],style:[e.tabbarStyle],on:{touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t),e.noop.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"u-tabbar__content__item-wrapper"},[e._t("default")],2),e.safeAreaInsetBottom?n("u-safe-bottom"):e._e()],1),e.placeholder?n("v-uni-view",{staticClass:"u-tabbar__placeholder",style:{height:e.placeholderHeight+"px"}}):e._e()],1)},r=[]},"62c0":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("a9e3");var i={props:{showScrollbar:{type:Boolean,default:uni.$u.props.list.showScrollbar},lowerThreshold:{type:[String,Number],default:uni.$u.props.list.lowerThreshold},upperThreshold:{type:[String,Number],default:uni.$u.props.list.upperThreshold},scrollTop:{type:[String,Number],default:uni.$u.props.list.scrollTop},offsetAccuracy:{type:[String,Number],default:uni.$u.props.list.offsetAccuracy},enableFlex:{type:Boolean,default:uni.$u.props.list.enableFlex},pagingEnabled:{type:Boolean,default:uni.$u.props.list.pagingEnabled},scrollable:{type:Boolean,default:uni.$u.props.list.scrollable},scrollIntoView:{type:String,default:uni.$u.props.list.scrollIntoView},scrollWithAnimation:{type:Boolean,default:uni.$u.props.list.scrollWithAnimation},enableBackToTop:{type:Boolean,default:uni.$u.props.list.enableBackToTop},height:{type:[String,Number],default:uni.$u.props.list.height},width:{type:[String,Number],default:uni.$u.props.list.width},preLoadScreen:{type:[String,Number],default:uni.$u.props.list.preLoadScreen}}};t.default=i},6399:function(e,t,n){"use strict";n.r(t);var i=n("8dfb"),a=n("fd36");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("ff7f");var s=n("f0c5"),o=Object(s["a"])(a["default"],i["b"],i["c"],!1,null,"59cfce19",null,!1,i["a"],void 0);t["default"]=o.exports},6587:function(e,t,n){"use strict";var i=n("d406"),a=n.n(i);a.a},7651:function(e,t,n){var i=n("2afe");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("3d7a4b66",i,!0,{sourceMap:!1,shadowMode:!1})},"8dfb":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i}));var i={uNavbar:n("3423").default,uList:n("12ef").default,uTabbar:n("3360").default,uAvatar:n("309e").default,uButton:n("2e4e").default,imageUploader:n("31bd").default},a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{staticClass:"single-message-container"},[i("u-navbar",{attrs:{title:e.teamInfo.name||"",autoBack:!0,fixed:!0,placeholder:!1}}),i("u-list",{attrs:{customStyle:e.scrollViewStyle},on:{scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.getHistoryMsgs.apply(void 0,arguments)}}},[i("u-tabbar",{attrs:{fixed:!1,customStyle:"background:transparent",border:!1}}),e._l(e.messages,(function(t,n){return i("v-uni-view",{key:n,staticClass:"message-item",attrs:{id:"msg"+t.idServer}},["notification"==t.type?[i("v-uni-view",{staticClass:"message-item-notification"},[e._v(e._s(e.getNotificationContent(t)))])]:[e.showTime(n)?i("v-uni-view",{staticClass:"message-item-time"},[e._v(e._s(e.$u.timeFormat(t.time,"yyyy年mm月dd日 hh:MM:ss")))]):e._e(),t.from!=e.selfInfo.account?[i("v-uni-view",{staticClass:"message-item-left flex align-start"},[i("v-uni-view",{staticClass:"message-item-left-avatar"},[i("u-avatar",{attrs:{size:72,src:e.getAvatar(t)}})],1),i("v-uni-view",{},[i("v-uni-view",{staticClass:"message-item-left-nick"},[e._v(e._s(t.fromNick))]),"text"==t.type?[i("v-uni-view",{staticClass:"message-item-left-text"},[e._v(e._s(t.text))])]:"custom"==t.type?[e.isImage(t)?i("v-uni-view",{staticClass:"message-item-left-image"},[i("v-uni-image",{attrs:{src:e.isImage(t).url,mode:"widthFix"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.previewImage(e.isImage(t).url)}}})],1):e._e(),e.isService(t)?i("v-uni-view",{staticClass:"message-item-left-good flex align-center",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.goUrl("/pages/service_detail/service_detail?id="+e.isService(t).id)}}},[i("v-uni-view",{staticClass:"good-cover"},[i("v-uni-image",{attrs:{src:e.isService(t).cover,mode:"aspectFill"}})],1),i("v-uni-view",{},[i("v-uni-view",{staticClass:"good-title text-ellipsis"},[e._v(e._s(e.isService(t).name))]),i("v-uni-view",{staticClass:"good-price"},[e._v("￥"+e._s(e.isService(t).price))])],1)],1):e._e()]:e._e()],2)],1)]:[i("v-uni-view",{staticClass:"message-item-right flex align-start justify-end"},["text"==t.type?[i("v-uni-view",{staticClass:"message-item-right-text"},[e._v(e._s(t.text))])]:"custom"==t.type?[e.isImage(t)?i("v-uni-view",{staticClass:"message-item-right-image"},[i("v-uni-image",{attrs:{src:e.isImage(t).url,mode:"widthFix"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.previewImage(e.isImage(t).url)}}})],1):e._e(),e.isService(t)?i("v-uni-view",{staticClass:"message-item-right-good flex align-center",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.goUrl("/pages/service_detail/service_detail?id="+e.isService(t).id)}}},[i("v-uni-view",{staticClass:"good-cover"},[i("v-uni-image",{attrs:{src:e.isService(t).cover,mode:"aspectFill"}})],1),i("v-uni-view",{},[i("v-uni-view",{staticClass:"good-title text-ellipsis"},[e._v(e._s(e.isService(t).name))]),i("v-uni-view",{staticClass:"good-price"},[e._v("￥"+e._s(e.isService(t).price))])],1)],1):e._e()]:e._e(),i("v-uni-view",{staticClass:"message-item-right-avatar"},[i("u-avatar",{attrs:{size:72,src:e.consumerInfo.waiterLogo}})],1)],2)]]],2)})),i("v-uni-view",{staticStyle:{opacity:"0"}},[i("u-navbar",{attrs:{fixed:!1}})],1)],2),i("u-tabbar",{attrs:{fixed:!0,placeholder:!1}},[i("v-uni-view",{staticClass:"single-message-footer flex align-center justify-between"},[i("v-uni-input",{staticClass:"flex-grow",attrs:{type:"text",placeholder:"您想咨询什么？","placeholder-class":"u-tips-color"},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}}),e.content?i("v-uni-view",{},[i("u-button",{attrs:{type:"primary",customStyle:"width: 110rpx;\n\t\t\t\tpadding:0rpx;\n\t\t\t\theight: 66rpx;font-size:30rpx;border-radius: 16rpx;"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.sendMessage.apply(void 0,arguments)}}},[e._v("发送")])],1):i("v-uni-image",{attrs:{src:n("f2a1"),mode:""},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.$refs["image-uploader"].pop()}}})],1)],1),i("image-uploader",{ref:"image-uploader",on:{uploadSuccess:function(t){arguments[0]=t=e.$handleEvent(t),e.sendImgMessage.apply(void 0,arguments)}}}),e.serviceProductId?i("quick-msg-service",{ref:"quick-msg-service",attrs:{productId:e.serviceProductId},on:{sendServiceMsg:function(t){arguments[0]=t=e.$handleEvent(t),e.sendServiceMsg.apply(void 0,arguments)}}}):e._e()],1)},r=[]},"971a":function(e,t,n){var i=n("01e1");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("707fdbcc",i,!0,{sourceMap:!1,shadowMode:!1})},"9f63":function(e,t,n){"use strict";n.r(t);var i=n("1bdc"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},ab79:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("c7eb")),r=i(n("1da1"));n("d81d");var s=i(n("10e5")),o={name:"u-tabbar",mixins:[uni.$u.mpMixin,uni.$u.mixin,s.default],data:function(){return{placeholderHeight:0}},computed:{tabbarStyle:function(){var e={zIndex:this.zIndex};return uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))},updateChild:function(){return[this.value,this.activeColor,this.inactiveColor]},updatePlaceholder:function(){return[this.fixed,this.placeholder]}},watch:{updateChild:function(){this.updateChildren()},updatePlaceholder:function(){this.setPlaceholderHeight()}},created:function(){this.children=[]},mounted:function(){this.setPlaceholderHeight()},methods:{updateChildren:function(){this.children.length&&this.children.map((function(e){return e.updateFromParent()}))},setPlaceholderHeight:function(){var e=this;return(0,r.default)((0,a.default)().mark((function t(){return(0,a.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.fixed&&e.placeholder){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,uni.$u.sleep(20);case 4:e.$uGetRect(".u-tabbar__content").then((function(t){var n=t.height,i=void 0===n?50:n;e.placeholderHeight=i}));case 5:case"end":return t.stop()}}),t)})))()}}};t.default=o},c0de:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-scroll-view",{staticClass:"u-list",style:[e.listStyle],attrs:{"scroll-into-view":e.scrollIntoView,"scroll-y":!0,"scroll-top":Number(e.scrollTop),"lower-threshold":Number(e.lowerThreshold),"upper-threshold":Number(e.upperThreshold),"show-scrollbar":e.showScrollbar,"enable-back-to-top":e.enableBackToTop,"scroll-with-animation":e.scrollWithAnimation},on:{scroll:function(t){arguments[0]=t=e.$handleEvent(t),e.onScroll.apply(void 0,arguments)},scrolltolower:function(t){arguments[0]=t=e.$handleEvent(t),e.scrolltolower.apply(void 0,arguments)},scrolltoupper:function(t){arguments[0]=t=e.$handleEvent(t),e.scrolltoupper.apply(void 0,arguments)}}},[n("v-uni-view",[e._t("default")],2)],1)},a=[]},d406:function(e,t,n){var i=n("f9e6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("a4585d8a",i,!0,{sourceMap:!1,shadowMode:!1})},deca:function(e,t,n){"use strict";var i=n("e392"),a=n.n(i);a.a},e392:function(e,t,n){var i=n("20eb");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var a=n("4f06").default;a("68c3d3fa",i,!0,{sourceMap:!1,shadowMode:!1})},e4ac:function(e,t,n){"use strict";var i=n("7651"),a=n.n(i);a.a},eaed:function(e,t,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("62c0")),r={name:"u-list",mixins:[uni.$u.mpMixin,uni.$u.mixin,a.default],watch:{scrollIntoView:function(e){this.scrollIntoViewById(e)}},data:function(){return{innerScrollTop:0,offset:0,sys:uni.$u.sys()}},computed:{listStyle:function(){var e={},t=uni.$u.addUnit;return 0!=this.width&&(e.width=t(this.width)),0!=this.height&&(e.height=t(this.height)),e.height||(e.height=t(this.sys.windowHeight,"px")),uni.$u.deepMerge(e,uni.$u.addStyle(this.customStyle))}},provide:function(){return{uList:this}},created:function(){this.refs=[],this.children=[],this.anchors=[]},mounted:function(){},methods:{updateOffsetFromChild:function(e){this.offset=e},onScroll:function(e){var t;t=e.detail.scrollTop,this.innerScrollTop=t,this.$emit("scroll",Math.abs(t))},scrollIntoViewById:function(e){},scrolltolower:function(e){var t=this;uni.$u.sleep(30).then((function(){t.$emit("scrolltolower")}))},scrolltoupper:function(e){var t=this;uni.$u.sleep(30).then((function(){t.$emit("scrolltoupper"),t.offset=0}))}}};t.default=r},f2a1:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAAXNSR0IArs4c6QAAALdQTFRFAAAAAAAAVVVVQEBASUlJQEBAQEBAQEBAQ0NDTU1NTk5OSkpKSUlJR0dHSEhIRkZGTU1NS0tLSUlJSEhISUlJTU1NTExMS0tLSkpKSkpKSUlJSUlJTExMS0tLS0tLSkpKS0tLSkpKTExMTExMS0tLS0tLS0tLS0tLTExMS0tLTExMTExMTExMS0tLS0tLTExMS0tLS0tLS0tLTExMS0tLS0tLTExMTExMS0tLS0tLS0tLS0tLTExMwmzaVQAAADt0Uk5TAAIDBAcIDBATFBcYIyQnKCssOzw/P0BLTE9QV1dYX2BjZ2tvc3ePn7O3v8PHy8/b3+Pn6+7w8vP3+vsO/VK4AAAB/ElEQVRIx52WW2OiMBCFp5ttrVLbWle32CotLfGOiN1Fs9///137gKIEL9B5gsk5M8OQnImIbY0XPV7EEC/G+qUhF+zWn5GzmX97Bt7Qawq21qfSqCDJUFEURdlLEqhj+LswXV4NvZYSEVEtb7hKfeFdEe+m4SfPuWiqN0mTuDb+3QDMu8VI3RDAvFt4AHO8VhUYgBzDNUDcPtW9bgyYg6qaCRA/nO73QwwkzSxneAG/ZYS7igPAtM9vgbYBgvTZSfbPmd3cWI4ASBwREdHA3OrPYLPxrF6FgBYRqa8Bq/9XX/B1ZbUKWNdFxAcmVv5rgJ+WcwL4IjIHnssQesBMxAFWqgxBrQBHXoGhlCHIEHgVDXjlCB6gZQy0yhFawFgWgCpHUMBCYogy10dycJj/bQ/oR7a8hFg4INQMRQKmtluPgOqEXEl+iZIqf3TFto5EA4NyhAGgpV9ta/Srbz6ZAb/LEFxg+p0DVF8DHSv7X/jzI+/r7I7oURHwNhurdWq+E4HqMpMK2a/zQvZkgM+cVN6fw9/npHIrxvcX8HsxFukZIH46WU8MmF7FgfJ2bGSFnSK+Mwcwb7a/tx2Kbn4outuh2CtGamZjd/B4LSKiHgfZ2G1eGuzLKFruB/unOtEN5/jVwTnzg+r+NA+f+rVLFxqnr0fp9Wek+8Xg/wHxIqRLkFZLnQAAAABJRU5ErkJggg=="},f9e6:function(e,t,n){var i=n("24fb");t=i(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.action-sheet-item[data-v-5f9c0ae6]{height:%?125?%;line-height:%?125?%;text-align:center;font-size:%?32?%;color:#303133;font-weight:700}.cancel-btn[data-v-5f9c0ae6]{height:%?100?%;line-height:%?100?%;text-align:center;font-size:%?36?%;color:#909193;font-weight:700}.cancel-btn-hover[data-v-5f9c0ae6]{background:#f3f4f6}',""]),e.exports=t},fd36:function(e,t,n){"use strict";n.r(t);var i=n("5198"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(r);t["default"]=a.a},ff7f:function(e,t,n){"use strict";var i=n("971a"),a=n.n(i);a.a}}]);